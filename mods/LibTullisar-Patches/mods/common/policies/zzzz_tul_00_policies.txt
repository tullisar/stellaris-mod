##########################################################################
# Empire Policies
#
# #####
#
# AI:
# Base AI-weight is 100, if unchanged
# AI will grab whatever policy-option has the highest weight
#
# #####
#
##########################################################################
diplomatic_stance = {
	potential = {
		OR = {
			merg_is_default_empire = yes
			is_country_type = ascended_empire
			is_country_type = lost_empire
			is_country_type = fallen_empire
			is_country_type = awakened_fallen_empire
			is_country_type = primitive
			is_country_type = awakened_marauders
		}
	}
	allow = {
		is_at_war = no		# Not allowed to change policies in this group while at war
	}
	option = {
		name = "diplo_stance_belligerent"
		icon = "GFX_diplomatic_stance_belligerent"
		potential = {
			OR = {
				merg_is_default_empire = yes
				is_country_type = ascended_empire
				is_country_type = awakened_fallen_empire
			}
		}
		valid = {
			is_civic_inwards_perfection = no
			is_homicidal = no			# They have their own variants of this
		}
		policy_flags = {
			diplo_stance_belligerent
		}
		modifier = {
			country_war_exhaustion_mult = -0.1
			country_naval_cap_mult = 0.1
			country_claim_influence_cost_mult = -0.1
		}
		ai_weight = {
			weight = 10
			modifier = {
				factor = 0
				NOT = {
					has_country_flag = has_encountered_other_empire
				}
			}
			# Pacifists
			modifier = {
				# Fanatic Pacifists can *only* go belligerent if they are at war or there's a rival neighbor...
				factor = 0
				OR = {
					has_ethic = ethic_fanatic_pacifist
					# Expanded Traits, Civics, Pops, and More
					has_valid_civic = civic_harm_hive
					has_valid_civic = civic_harm_machine
				}
				NOR = {
					is_at_war = yes
					any_neighbor_country = {
						is_rival = root
					}
				}
			}
			modifier = {
				# Regular Pacifists have only a small chance to go belligerent if they are not at war or there's a rival neighbor...
				factor = 0.5
				OR = {
					has_ethic = ethic_pacifist
					has_ai_personality = open_hive_mind
					has_ai_personality = open_machine_intelligence
				}
				NOR = {
					is_at_war = yes
					any_neighbor_country = {
						is_rival = root
					}
				}
			}
			modifier = {
				factor = 0.5				# ...but they're still less likely to.
				OR = {
					is_pacifist = yes
					# Expanded Traits, Civics, Pops, and More
					has_ai_personality = open_hive_mind
					has_ai_personality = open_machine_intelligence
				}
			}
			# Angry people like to be belligerent
			modifier = {
				factor = 3
				has_ethic = ethic_fanatic_militarist
			}
			modifier = {
				factor = 2
				has_ethic = ethic_militarist
			}
			modifier = {
				factor = 2
				has_ethic = ethic_fanatic_authoritarian
			}
			modifier = {
				factor = 1.5
				has_ethic = ethic_authoritarian
			}
			modifier = {
				factor = 5				# Intentionally high value for despoilers/Nihilistic Acquisition
				is_slaver = yes
			}
			modifier = {
				factor = 1.5
				has_valid_civic = civic_nationalistic_zeal
			}
			modifier = {
				factor = 1.5
				OR = {
					has_valid_civic = civic_hive_strength_of_legions
					has_valid_civic = civic_machine_warbots
					has_valid_civic = civic_private_military_companies
					has_valid_civic = civic_warrior_culture
				}
			}
			modifier = {
				factor = 1.5
				has_ai_personality_behaviour = conqueror
			}
			modifier = {
				factor = 1.5
				has_ai_personality_behaviour = subjugator
			}
			modifier = {
				factor = 3				# Blocked in propagators get ANGRY
				has_ai_expansion_plan = no
				has_ai_personality_behaviour = propagator
			}
			# Expanded Traits, Civics, Pops, and More
			modifier = {
				factor = 2
				has_ai_personality = egalitarian_imperialists
				any_neighbor_country = {
					OR = {
						is_rival = root
						ROOT = {
							is_domineering_to = PREV
						}
					}
				}
			}
		}
	}
	option = {
		name = "diplo_stance_cooperative"
		icon = "GFX_diplomatic_stance_cooperative"
		potential = {
			OR = {
				merg_is_default_empire = yes
				is_country_type = ascended_empire
				is_country_type = awakened_fallen_empire
			}
		}
		valid = {
			is_civic_inwards_perfection = no
			is_unfriendly = no			# Not homicidal or barbaric despoilers
		}
		policy_flags = {
			diplo_stance_cooperative
		}
		modifier = {
			diplo_weight_mult = 0.25
			envoy_improve_relations_mult = 0.5
			country_border_friction_mult = -0.5
			operations_cost_mult = 0.25
			operations_upkeep_mult = 0.25
		}
		ai_weight = {
			weight = 10
			modifier = {
				factor = 0.01
				has_ascension_perk = ap_become_the_crisis
			}
			modifier = {
				factor = 0
				NOT = {
					has_country_flag = has_encountered_other_empire
				}
			}
			# Tons of Ethics modifiers!
			# Cranky people:
			modifier = {
				factor = 0
				has_ethic = ethic_fanatic_xenophobe
			}
			modifier = {
				factor = 0.1
				OR = {
					has_ethic = ethic_xenophobe
					has_valid_civic = civic_infestation
					has_valid_civic = civic_living_hosts
				}
			}
			modifier = {
				factor = 0.5
				has_ethic = ethic_fanatic_authoritarian
			}
			modifier = {
				factor = 0.75
				has_ethic = ethic_authoritarian
			}
			# Nice people:
			modifier = {
				factor = 2
				has_ethic = ethic_fanatic_xenophile
			}
			modifier = {
				factor = 1.5
				has_ethic = ethic_xenophile
			}
			modifier = {
				factor = 1.5
				OR = {
					has_ethic = ethic_fanatic_pacifist
					has_valid_civic = civic_harm_hive
					has_valid_civic = civic_harm_machine
				}
			}
			modifier = {
				factor = 1.25
				OR = {
					has_ethic = ethic_pacifist
					has_ai_personality = open_hive_mind
					has_ai_personality = open_machine_intelligence
				}
			}
			modifier = {
				factor = 1.5
				has_ethic = ethic_fanatic_egalitarian
			}
			modifier = {
				factor = 1.25
				has_ethic = ethic_egalitarian
			}
			modifier = {
				factor = 1.2
				has_ethic = ethic_fanatic_materialist
			}
			modifier = {
				factor = 1.1
				has_ethic = ethic_materialist
			}
			modifier = {
				factor = 1.5
				has_ai_personality_behaviour = multispecies
			}
			modifier = {
				factor = 3
				has_ai_personality = federation_builders
			}
		}
	}
	option = {
		name = "diplo_stance_isolationist"
		icon = "GFX_diplomatic_stance_isolationist"
		potential = {
			OR = {
				merg_is_default_empire = yes
				is_country_type = awakened_fallen_empire
			}
		}
		valid = {
			is_megacorp = no			# "NO! YOU CAN'T BUY OUR STUFF!" makes the shareholders sad
			is_homicidal = no			# Homicidal variants below
		}
		policy_flags = {
			diplo_stance_isolationist
		}
		modifier = {
			country_admin_cap_mult = 0.15
			country_unity_produces_mult = 0.1
			diplo_weight_mult = -0.5
			diplomacy_upkeep_mult = 1
			pop_government_ethic_attraction = 0.25
			country_border_friction_mult = 2
		}
		on_enabled = {
		}
		ai_weight = {
			weight = 10
			modifier = {
				factor = 0.01
				has_ascension_perk = ap_become_the_crisis
			}
			modifier = {
				factor = 0.25				# Let the isolationists start in this if they want
				NOT = {
					has_country_flag = has_encountered_other_empire
				}
			}
			modifier = {
				factor = 0
				OR = {
					has_ai_personality = federation_builders
					has_ai_personality = fanatic_befrienders
				}
			}
			modifier = {
				factor = 2
				has_ai_personality = egalitarian_imperialists
				NOT = {
					any_neighbor_country = {
						OR = {
							is_rival = root
							ROOT = {
								is_domineering_to = PREV
							}
						}
					}
				}
			}
			modifier = {
				factor = 100				# Inwards Perfection should almost always go isolationist
				is_civic_inwards_perfection = yes
			}
			modifier = {
				factor = 3
				has_ai_personality_behaviour = isolationist
			}
			modifier = {
				factor = 2
				is_xenophobe = yes
				is_militarist = no
				is_authoritarian = no
			}
		}
	}
	option = {
		name = "diplo_stance_expansionist"
		icon = "GFX_diplomatic_stance_expansionist"
		potential = {
			OR = {
				merg_is_default_empire = yes
				is_country_type = ascended_empire
				is_country_type = awakened_fallen_empire
			}
		}
		valid = {
			is_homicidal = no
		}
		policy_flags = {
			diplo_stance_expansionist
		}
		modifier = {
			starbase_outpost_cost_mult = -0.1
			planet_colony_development_speed_mult = 0.15
			country_border_friction_mult = 1
		}
		ai_weight = {
			weight = 10
			modifier = {
				factor = 0.01
				has_ascension_perk = ap_become_the_crisis
			}
			modifier = {
				factor = 2
				NOT = {
					has_country_flag = has_encountered_other_empire
				}
			}
			modifier = {
				factor = 1.5
				has_ai_expansion_plan = yes
			}
			modifier = {
				factor = 3
				has_ai_expansion_plan = yes
				has_ai_personality_behaviour = propagator
			}
		}
	}
	option = {
		name = "diplo_stance_mercantile"
		icon = "GFX_diplomatic_stance_mercantile"
		potential = {
			OR = {
				merg_is_default_empire = yes
				is_country_type = ascended_empire
				is_country_type = awakened_fallen_empire
			}
			is_gestalt = no
		}
		valid = {
			is_civic_inwards_perfection = no
			is_homicidal = no
			# some ugliness to preserve the
			# auth/civic - potential/valid divide for tooltip
			if = {
				limit = {
					has_megacorp = yes
					is_megacorp = yes
				}
				is_megacorp = yes
			}
			else_if = {
				limit = {
					has_megacorp = yes
				}
				OR = {
					has_valid_civic = civic_merchant_guilds
					has_ethic = ethic_capitalism
					has_ethic = ethic_fanatic_capitalism
				}
			}
			else = {
				OR = {
					has_valid_civic = civic_corporate_dominion
					# Ethics and Civics Alternative - Redux
					has_ethic = ethic_capitalism
					has_ethic = ethic_fanatic_capitalism
					# Expanded Traits, Civics, Pops, and More
					has_valid_civic = civic_merchant_guilds
				}
			}
		}
		policy_flags = {
			diplo_stance_mercantile
		}
		modifier = {
			diplo_weight_economy_mult = 0.25
			trade_value_mult = 0.1
			local_trade_protection_add = 5
		}
		ai_weight = {
			weight = 10
			modifier = {
				factor = 0.01
				has_ascension_perk = ap_become_the_crisis
			}
			modifier = {
				factor = 3
				is_megacorp = yes				# Megacorps should generally prefer this diplo stance unless their ethics get them to specialize differently
			}
			modifier = {
				factor = 2
				has_civic = civic_merchant_guilds
			}
			modifier = {
				factor = 1.25
				OR = {
					is_civic_free_traders = yes
					# Expanded Traits, Civics, Pops, and More
					has_valid_civic = civic_trading_posts
					has_valid_civic = civic_parliamentary_system_corp
					has_valid_civic = civic_royal_trading_company
					has_valid_civic = civic_megastore
					has_valid_civic = civic_memorialist_corp
				}
			}
			modifier = {
				factor = 0.65
				OR = {
					has_valid_civic = civic_private_prospectors
					has_valid_civic = civic_private_military_companies
					# Expanded Traits, Civics, Pops, and More
					has_valid_civic = civic_shadow_council_megacorp
					has_valid_civic = civic_corp_security
				}
			}
		}
	}
	option = {
		name = "diplo_stance_supremacist"
		icon = "GFX_diplomatic_stance_supremacy"
		potential = {
			OR = {
				is_country_type = awakened_fallen_empire
				is_country_type = awakened_marauders
				merg_is_default_empire = yes
				is_country_type = ascended_empire
			}
		}
		valid = {
			NOR = {
				is_civic_inwards_perfection = yes
				has_modifier = humiliated
			}
			is_homicidal = no
			custom_tooltip = {
				fail_text = "requires_supremacy_traditions"
				OR = {
					has_tradition = tr_supremacy_finish
					merg_is_default_empire = no
				}
			}
			is_subject = no
		}
		policy_flags = {
			diplo_stance_supremacist
		}
		modifier = {
			diplo_weight_naval_mult = 1
			country_war_exhaustion_mult = -0.2
			country_naval_cap_mult = 0.2
			country_claim_influence_cost_mult = -0.1
		}
		on_enabled = {
		}
		ai_weight = {
			weight = 10
			modifier = {
				factor = 0
				NOT = {
					has_country_flag = has_encountered_other_empire
				}
			}
			modifier = {
				factor = 0
				is_pacifist = yes
			}
			modifier = {
				factor = 10
				OR = {
					is_country_type = awakened_fallen_empire
					is_country_type = ascended_empire
					is_country_type = awakened_marauders
				}
			}
			# Angry people want to be Supreme
			modifier = {
				factor = 2
				has_ethic = ethic_fanatic_militarist
			}
			modifier = {
				factor = 1.5
				has_ethic = ethic_militarist
			}
			modifier = {
				factor = 1.5
				has_ethic = ethic_fanatic_authoritarian
			}
			modifier = {
				factor = 1.25
				has_ethic = ethic_authoritarian
			}
			modifier = {
				factor = 1.25				# Despoilers/Nihilistic Acquisition intentionally get a higher multiplier for Belligerent than Supremacist
				is_slaver = yes
			}
			modifier = {
				factor = 2
				has_valid_civic = civic_nationalistic_zeal
			}
			modifier = {
				factor = 3
				OR = {
					has_valid_civic = civic_hive_strength_of_legions
					has_valid_civic = civic_machine_warbots
					has_valid_civic = civic_private_military_companies
					has_valid_civic = civic_warrior_culture
					has_valid_civic = civic_barbaric_despoilers
					has_valid_civic = civic_crusaders
					has_valid_civic = civic_living_hosts
					has_valid_civic = civic_infestation
					has_origin = origin_necrophage
					has_origin = origin_militarist
				}
			}
			modifier = {
				factor = 2
				has_ai_personality = egalitarian_imperialists
				any_neighbor_country = {
					OR = {
						is_rival = root
						ROOT = {
							is_domineering_to = PREV
						}
					}
				}
			}
			modifier = {
				factor = 1.5
				has_ai_personality_behaviour = conqueror
			}
			modifier = {
				factor = 1.5
				has_ai_personality_behaviour = subjugator
			}
			modifier = {
				# Don't be suicidal
				factor = 0
				any_relation = {
					has_communications = root
					has_policy_flag = diplo_stance_supremacist
					OR = {
						merg_is_default_empire = yes
						is_country_type = ascended_empire
						is_country_type = lost_empire
					}
					is_subject = no
					relative_power = {
						who = root
						category = fleet
						value = overwhelming
					}
				}
			}
			modifier = {
				factor = 0.25
				any_neighbor_country = {
					has_communications = root
					OR = {
						merg_is_default_empire = yes
						is_country_type = ascended_empire
						is_country_type = lost_empire
					}
					is_subject = no
					relative_power = {
						who = root
						category = fleet
						value > equivalent
					}
				}
			}
		}
	}
	option = {
		name = "diplo_stance_hunger"
		icon = "GFX_diplomatic_stance_rest"
		potential = {
			has_authority = auth_hive_mind
		}
		valid = {
			has_valid_civic = civic_hive_devouring_swarm
		}
		policy_flags = {
			diplo_stance_hunger
		}
		modifier = {
			country_war_exhaustion_mult = -0.1
			country_naval_cap_mult = 0.1
			country_unity_produces_mult = 0.1
			planet_crime_no_happiness_mult = -0.1
		}
		ai_weight = {
			weight = 100
		}
	}
	option = {
		name = "diplo_stance_extermination"
		icon = "GFX_diplomatic_stance_recompiling"
		potential = {
			has_authority = auth_machine_intelligence
		}
		valid = {
			has_valid_civic = civic_machine_terminator
		}
		policy_flags = {
			diplo_stance_extermination
		}
		modifier = {
			country_war_exhaustion_mult = -0.1
			country_naval_cap_mult = 0.1
			country_unity_produces_mult = 0.1
			planet_crime_no_happiness_mult = -0.1
		}
		ai_weight = {
			weight = 100
		}
	}
	option = {
		name = "diplo_stance_purification"
		icon = "GFX_diplomatic_stance_withdrawn"
		potential = {
			has_utopia = yes
		}
		valid = {
			has_valid_civic = civic_fanatic_purifiers
		}
		policy_flags = {
			diplo_stance_purification
		}
		modifier = {
			country_war_exhaustion_mult = -0.1
			country_naval_cap_mult = 0.1
			country_unity_produces_mult = 0.1
			pop_government_ethic_attraction = 0.25
		}
		ai_weight = {
			weight = 100
		}
	}
	option = {
		name = "diplo_stance_isolationist_fallen_empire"
		icon = "GFX_diplomatic_stance_isolationist"
		potential = {
			OR = {
				is_country_type = fallen_empire
				is_country_type = lost_empire
			}
		}
		policy_flags = {
			diplo_stance_isolationist_fallen_empire
		}
		modifier = {
			country_unity_produces_mult = 0.1
			diplomacy_upkeep_mult = 1
			pop_government_ethic_attraction = 0.25
			country_border_friction_mult = 2
		}
		ai_weight = {
			weight = 100
		}
	}
	option = {
		name = "diplo_stance_primitive"
		icon = "GFX_diplomatic_stance_isolationist"
		potential = {
			is_country_type = primitive
		}
		policy_flags = {
			diplo_stance_primitive
		}
		modifier = {
		}
		ai_weight = {
			weight = 1
		}
	}
}

war_philosophy = {
	potential = {
		OR = {
			merg_is_default_empire = yes
			is_country_type = fallen_empire
			is_country_type = awakened_fallen_empire
			is_country_type = ascended_empire
			is_country_type = lost_empire
		}
	}
	allow = {
		is_at_war = no		# Not allowed to change policies in this group while at war
	}
	option = {
		name = "unrestricted_wars"
		policy_flags = {
			unrestricted_wars
		}
		in_breach_of = {
			{
				key = resolution_rulesofwar_last_resort_doctrine
			}
		}
		valid = {
			NOR = {
				is_subject_type = scion_signatory
				has_ethic = "ethic_pacifist"
				has_ethic = "ethic_fanatic_pacifist"
				is_civic_inwards_perfection = yes
				has_valid_civic = "civic_harm_hive"
				has_valid_civic = "civic_harm_machine"
				has_ai_personality = harmonious_hierarchy
				# Expanded Gestalts
				has_valid_civic = "civic_mutualistic_behavior"
			}
		}
		AI_weight = {
			modifier = {
				factor = 10
				OR = {
					has_valid_ai_personality = no
					is_ai = no
				}
				is_pacifist = no
			}
			modifier = {
				factor = 10
				has_valid_ai_personality = yes
				is_ai = yes
				OR = {
					has_ai_personality_behaviour = conqueror
					has_ai_personality_behaviour = subjugator
					has_ai_personality_behaviour = purger
				}
			}
			modifier = {
				factor = 10
				has_ascension_perk = ap_become_the_crisis
			}
			modifier = {
				factor = 0.1
				has_valid_ai_personality = yes
				is_ai = yes
				is_galactic_community_member = yes
				OR = {
					is_active_resolution = "resolution_rulesofwar_last_resort_doctrine"
					is_active_resolution = "resolution_rulesofwar_demobilization_initiative"
				}
			}
			modifier = {
				factor = 0
				OR = {
					is_pacifist = yes
					# Expanded Traits, Civics, Pops, and More
					has_ai_personality = open_hive_mind
					has_ai_personality = open_machine_intelligence
				}
			}
		}
	}
	option = {
		name = "liberation_wars"
		policy_flags = {
			liberation_wars
		}
		potential = {
			NOT = {
				has_ethic = ethic_gestalt_consciousness
			}
		}
		valid = {
			NOR = {
				has_ethic = "ethic_fanatic_pacifist"
				has_valid_civic = "civic_fanatic_purifiers"
			}
		}
		on_enabled = {
			hidden_effect = {
				check_casus_belli_valid = {
					type = cb_ideology
				}
			}
		}
		on_disabled = {
			hidden_effect = {
				check_casus_belli_valid = {
					type = cb_ideology
				}
			}
		}
		AI_weight = {
			modifier = {
				factor = 2
				OR = {
					has_valid_ai_personality = no
					is_ai = no
				}
				has_ethic = "ethic_pacifist"
			}
			modifier = {
				factor = 2
				has_valid_ai_personality = yes
				is_ai = yes
				OR = {
					has_ai_personality_behaviour = conqueror
					has_ai_personality_behaviour = subjugator
					has_ai_personality_behaviour = liberator
				}
			}
			modifier = {
				factor = 10
				has_valid_ai_personality = yes
				is_ai = yes
				is_galactic_community_member = yes
				OR = {
					is_active_resolution = "resolution_rulesofwar_last_resort_doctrine"
					is_active_resolution = "resolution_rulesofwar_demobilization_initiative"
				}
			}
			modifier = {
				factor = 3
				has_valid_ai_personality = yes
				is_ai = yes
				OR = {
					has_ai_personality_behaviour = conqueror
					has_ai_personality_behaviour = subjugator
					has_ai_personality_behaviour = liberator
				}
				has_authority = auth_democratic
				NOR = {
					is_militarist = yes
					is_xenophobe = yes
				}
			}
			modifier = {
				factor = 5
				has_valid_ai_personality = yes
				is_ai = yes
				has_ai_personality = democratic_crusaders
			}
			modifier = {
				factor = 5
				has_valid_ai_personality = no
				is_ai = yes
				has_ethic = ethic_fanatic_egalitarian
				has_ethic = ethic_militarist
			}
		}
	}
	option = {
		name = "no_wars"
		policy_flags = {
			no_wars
		}
		valid = {
			NOR = {
				has_ethic = "ethic_fanatic_militarist"
				has_valid_civic = "civic_fanatic_purifiers"
				has_valid_civic = "civic_hive_devouring_swarm"
				has_valid_civic = "civic_machine_terminator"
			}
		}
		AI_weight = {
			modifier = {
				factor = 5
				has_ethic = "ethic_fanatic_pacifist"
			}
			modifier = {
				factor = 1.5
				has_ethic = ethic_fanatic_xenophile
				is_authoritarian = no
				is_militarist = no
			}
			modifier = {
				factor = 1.5
				has_ethic = "ethic_pacifist"
			}
			modifier = {
				factor = 1.5
				is_civic_diplomatic_corps = yes
			}
			modifier = {
				factor = 0
				NOR = {
					is_pacifist = yes
					AND = {
						has_ethic = ethic_fanatic_xenophile
						is_authoritarian = no
						is_militarist = no
					}
					has_ai_personality = open_hive_mind
					has_ai_personality = open_machine_intelligence
				}
			}
		}
	}
	# Expanded Gestalts
	option = {
		name = "protection_wars"
		policy_flags = {
			protection_wars
		}
		potential = {
			has_valid_civic = civic_mutualistic_behavior
			has_expanded_gestalts = yes
		}
		on_enabled = {
			hidden_effect = {
				check_casus_belli_valid = {
					type = cb_protect
				}
			}
		}
		on_disabled = {
			hidden_effect = {
				check_casus_belli_valid = {
					type = cb_protect
				}
			}
		}
		AI_weight = {
			modifier = {
				factor = 2
				has_valid_civic = civic_mutualistic_behavior
			}
		}
	}
}

war_doctrine = {
	potential = {
		merg_is_default_empire = yes
		has_tradition = tr_supremacy_finish
	}
	option = {
		name = "defense_in_depth_doctrine"
		policy_flags = {
		}
		modifier = {
			ship_home_territory_fire_rate_mult = 0.1
		}
		AI_weight = {
			factor = 1
		}
	}
	option = {
		name = "hit_and_run_doctrine"
		policy_flags = {
		}
		modifier = {
			ship_disengage_chance_mult = 0.33
			ship_emergency_ftl_mult = -0.25
		}
		AI_weight = {
			factor = 10
			modifier = {
				factor = 0
				NOR = {
					is_pacifist = yes
					# Expanded Traits, Civics, Pops, and More
					has_ai_personality = open_hive_mind
					has_ai_personality = open_machine_intelligence
				}
			}
		}
	}
	option = {
		name = "rapid_deployment_doctrine"
		policy_flags = {
		}
		modifier = {
			ship_speed_mult = 0.25
			ship_weapon_range_mult = 0.1
		}
		AI_weight = {
			factor = 10
			modifier = {
				factor = 0
				NOT = {
					is_preferred_weapons = weapon_type_explosive
				}
				NOT = {
					is_preferred_weapons = weapon_type_strike_craft
				}
			}
		}
	}
	option = {
		name = "no_retreat_doctrine"
		valid = {
			OR = {
				has_ethic = ethic_militarist
				has_ethic = ethic_fanatic_militarist
				has_ethic = ethic_gestalt_consciousness
				has_valid_civic = civic_fanatic_purifiers
			}
		}
		policy_flags = {
		}
		modifier = {
			ship_disengage_chance_reduction = 1
			ship_emergency_ftl_min_days_mult = 0.5
			ship_fire_rate_mult = 0.33
		}
		AI_weight = {
			factor = 100
			modifier = {
				factor = 0
				NOR = {
					has_ai_personality = honorbound_warriors
					has_ai_personality = technological_warriors
					has_ai_personality = devouring_swarm
				}
			}
		}
	}
}

orbital_bombardment = {
	potential = {
		OR = {
			merg_is_default_empire = yes
			is_country_type_with_subjects = yes
			is_country_type = vol
		}
	}
	option = {
		name = "orbital_bombardment_selective"
		policy_flags = {
			orbital_bombardment_selective
		}
		AI_weight = {
			modifier = {
				factor = 0
				NOR = {
					has_ethic = "ethic_pacifist"
					has_ethic = "ethic_fanatic_pacifist"
					has_ethic = "ethic_green"
					has_ethic = "ethic_fanatic_green"
				}
				NOT = {
					is_galactic_community_member = yes
					OR = {
						is_active_resolution = "resolution_rulesofwar_independent_tribunals"
						is_active_resolution = "resolution_rulesofwar_last_resort_doctrine"
						is_active_resolution = "resolution_rulesofwar_demobilization_initiative"
					}
				}
			}
		}
	}
	option = {
		name = "orbital_bombardment_indiscriminate"
		in_breach_of = {
			{
				key = resolution_rulesofwar_independent_tribunals
			}
		}
		policy_flags = {
			orbital_bombardment_indiscriminate
		}
		modifier = {
		}
		valid = {
			NOR = {
				has_ethic = "ethic_pacifist"
				has_ethic = "ethic_fanatic_pacifist"
				has_valid_civic = "civic_xeno_militarist"
				# Expanded Gestalts
				has_valid_civic = civic_mutualistic_behavior
			}
		}
		AI_weight = {
			modifier = {
				factor = 0.1
				is_galactic_community_member = yes
				OR = {
					is_active_resolution = "resolution_galacticstudies_ethical_guideline_refactoring"
					is_active_resolution = "resolution_galacticstudies_extradimensional_experimentation"
				}
			}
		}
	}
	option = {
		name = "orbital_bombardment_armageddon"
		in_breach_of = {
			{
				key = resolution_rulesofwar_independent_tribunals
			}
		}
		potential = {
			OR = {
				has_valid_civic = civic_fanatic_purifiers
				has_valid_civic = civic_machine_terminator
			}
		}
		policy_flags = {
			orbital_bombardment_armageddon
		}
		modifier = {
		}
		AI_weight = {
			modifier = {
				factor = 10
				OR = {
					has_valid_civic = civic_fanatic_purifiers
					has_valid_civic = civic_machine_terminator
				}
			}
			modifier = {
				factor = 10
				has_ascension_perk = ap_become_the_crisis
			}
		}
	}
	# Gigastructural Engineering & More
	option = {
		name = "orbital_bombardment_redtoxin"
		in_breach_of = {
			{
				key = resolution_rulesofwar_independent_tribunals
			}
		}
		potential = {
			has_gigastructures = yes
			OR = {
				ehof_default_country = yes
				is_country_type_with_subjects = yes
				is_country_type = vol
			}
		}
		prerequisites = {
			tech_scourge_deployment
		}
		policy_flags = {
			orbital_bombardment_redtoxin
		}
		valid = {
			NOR = {
				is_pacifist = yes
				# Ethics and Civics Classic
				has_ethic = "ethic_green"
				has_ethic = "ethic_fanatic_green"
				# Ethics and Civics Alternative - Redux
				has_valid_civic = "civic_xeno_militarist"
			}
		}
	}
}

interference = {
	potential = {
		has_met_primitives = yes
	}
	option = {
		name = "interference_passive"
		policy_flags = {
			interference_passive
		}
		on_enabled = {
			hidden_effect = {
				set_country_flag = encountered_first_primitive
			}
		}
		in_breach_of = {
			{
				key = resolution_galacticstudies_advanced_xenostudies
			}
		}
		valid = {
			OR = {
				is_subject_type = signatory
				is_subject_type = scion_signatory
				NOR = {
					has_ethic = "ethic_fanatic_xenophobe"
					has_valid_civic = "civic_fanatic_purifiers"
					has_valid_civic = "civic_hive_devouring_swarm"
					has_valid_civic = "civic_machine_terminator"
				}
			}
		}
		AI_weight = {
			modifier = {
				factor = 0.1
				is_galactic_community_member = yes
				OR = {
					is_active_resolution = "resolution_galacticstudies_advanced_xenostudies"
					is_active_resolution = "resolution_galacticstudies_ethical_guideline_refactoring"
					is_active_resolution = "resolution_galacticstudies_extradimensional_experimentation"
				}
			}
		}
	}
	option = {
		name = "interference_active"
		policy_flags = {
			interference_active
		}
		modifier = {
		}
		on_enabled = {
			hidden_effect = {
				set_country_flag = encountered_first_primitive
			}
		}
		valid = {
			NOR = {
				is_subject_type = signatory
				is_subject_type = scion_signatory
				has_valid_civic = "civic_fanatic_purifiers"
				has_valid_civic = "civic_hive_devouring_swarm"
				has_valid_civic = civic_closed_collective
				has_valid_civic = civic_closed_network
			}
		}
		AI_weight = {
			modifier = {
				factor = 2
				has_valid_ai_personality = yes
				OR = {
					has_ai_personality_behaviour = infiltrator
					has_ai_personality_behaviour = dominator
				}
			}
			modifier = {
				factor = 0
				has_valid_ai_personality = yes
				NOR = {
					has_ai_personality_behaviour = infiltrator
					has_ai_personality_behaviour = dominator
				}
				NOT = {
					is_galactic_community_member = yes
					OR = {
						is_active_resolution = "resolution_galacticstudies_advanced_xenostudies"
						is_active_resolution = "resolution_galacticstudies_ethical_guideline_refactoring"
						is_active_resolution = "resolution_galacticstudies_extradimensional_experimentation"
					}
				}
			}
		}
	}
	option = {
		name = "interference_full"
		potential = {
		}
		valid = {
			NOT = {
				is_subject_type = signatory
			}
			NOT = {
				is_subject_type = scion_signatory
			}
			NOR = {
				is_pacifist = yes
				has_valid_civic = civic_closed_collective
				has_valid_civic = civic_closed_network
			}
		}
		on_enabled = {
			hidden_effect = {
				set_country_flag = encountered_first_primitive
			}
		}
		policy_flags = {
			interference_full
		}
		modifier = {
		}
		AI_weight = {
			modifier = {
				factor = 3
				has_valid_ai_personality = yes
				OR = {
					has_ai_personality_behaviour = infiltrator
					has_ai_personality_behaviour = dominator
				}
			}
			modifier = {
				factor = 0
				has_valid_ai_personality = yes
				NOR = {
					has_ai_personality_behaviour = infiltrator
					has_ai_personality_behaviour = dominator
				}
			}
			modifier = {
				factor = 0
				OR = {
					is_pacifist = yes
					has_ai_personality = open_hive_mind
					has_ai_personality = open_machine_intelligence
				}
			}
		}
	}
}

enlightenment = {
	potential = {
		has_met_primitives = yes
	}
	option = {
		name = "enlightenment_not_allowed"
		policy_flags = {
			enlightenment_not_allowed
		}
		on_enabled = {
			# custom_tooltip = "policy_allow_slavery_effect_disable"
		}
		AI_weight = {
			weight = 1
		}
	}
	option = {
		name = "enlightenment_allowed"
		policy_flags = {
			enlightenment_allowed
		}
		modifier = {
		}
		valid = {
			NOR = {
				has_ethic = "ethic_fanatic_xenophobe"
				has_valid_civic = "civic_fanatic_purifiers"
				has_valid_civic = "civic_hive_devouring_swarm"
				has_valid_civic = "civic_machine_terminator"
			}
		}
		AI_weight = {
			modifier = {
				factor = 2
				has_valid_ai_personality = yes
				has_ai_personality_behaviour = uplifter
			}
			modifier = {
				factor = 0
				has_valid_ai_personality = yes
				NOT = {
					has_ai_personality_behaviour = uplifter
				}
			}
			modifier = {
				factor = 0
				OR = {
					has_ethic = "ethic_xenophobe"
					has_ethic = "ethic_fanatic_xenophobe"
				}
			}
		}
	}
}

resettlement = {
	potential = {
		NOT = {
			has_ethic = "ethic_gestalt_consciousness"
		}
	}
	option = {
		name = "resettlement_not_allowed"
		policy_flags = {
			resettlement_not_allowed
		}
		valid = {
			NOR = {
				has_valid_civic = civic_ultimate_collective
			}
		}
	}
	option = {
		name = "resettlement_allowed"
		policy_flags = {
			resettlement_allowed
		}
		valid = {
			NOR = {
				has_valid_civic = civic_beacon_of_liberty
				has_valid_civic = civic_anarchy_ideals
			}
		}
		modifier = {
		}
		AI_weight = {
			factor = 10
			modifier = {
				factor = 0
				OR = {
					has_ethic = ethic_egalitarian
					has_ethic = ethic_fanatic_egalitarian
				}
			}
		}
	}
}

appropriation = {
	potential = {
		has_comms_with_alien_empire = yes
		NOT = {
			has_ethic = ethic_gestalt_consciousness
		}
	}
	option = {
		name = "appropriation_not_allowed"
		policy_flags = {
			appropriation_not_allowed
		}
		AI_weight = {
			modifier = {
				factor = 10
				has_ai_personality_behaviour = multispecies
			}
		}
	}
	option = {
		name = "appropriation_allowed"
		policy_flags = {
			appropriation_allowed
		}
		modifier = {
		}
		AI_weight = {
			modifier = {
				factor = 10
				NOT = {
					has_ai_personality_behaviour = multispecies
				}
			}
		}
	}
}

leader_enhancement = {
	potential = {
		has_technology = tech_selected_lineages
	}
	option = {
		name = "leader_enhancement_natural_selection"
		policy_flags = {
			leader_enhancement_natural_selection
		}
		in_breach_of = {
			{
				key = resolution_galacticstudies_ethical_guideline_refactoring
				trigger = {
					OR = {
						has_technology = tech_selected_lineages
						has_technology = tech_capacity_boosters
					}
				}
			}
		}
		on_enabled = {
			# custom_tooltip = "policy_allow_slavery_effect_disable"
		}
		modifier = {
		}
	}
	option = {
		name = "leader_enhancement_selected_lineages"
		policy_flags = {
			leader_enhancement_selected_lineages
		}
		modifier = {
			leader_skill_levels = 1
			leader_age = 10
			leaders_cost_mult = 0.5
		}
		in_breach_of = {
			{
				key = resolution_galacticstudies_ethical_guideline_refactoring
				trigger = {
					has_technology = tech_capacity_boosters
				}
			}
		}
		valid = {
			NOT = {
				has_ethic = "ethic_fanatic_socialism"
			}
		}
		AI_weight = {
			factor = 2
			modifier = {
				factor = 0
				OR = {
					has_ethic = "ethic_socialism"
					has_ethic = "ethic_fanatic_socialism"
				}
				NOT = {
					has_valid_ai_personality = yes
					is_ai = yes
					is_galactic_community_member = yes
					OR = {
						is_active_resolution = "resolution_galacticstudies_ethical_guideline_refactoring"
						is_active_resolution = "resolution_galacticstudies_extradimensional_experimentation"
					}
				}
			}
		}
		prerequisites = {
			tech_selected_lineages
		}
	}
	option = {
		name = "leader_enhancement_capacity_boosters"
		policy_flags = {
			leader_enhancement_capacity_boosters
		}
		modifier = {
			leader_skill_levels = 2
			leader_age = 20
			leaders_cost_mult = 1
		}
		valid = {
			NOR = {
				has_ethic = "ethic_socialism"
				has_ethic = "ethic_fanatic_socialism"
			}
		}
		prerequisites = {
			tech_capacity_boosters
		}
		AI_weight = {
			factor = 3
		}
	}
}

first_contact_protocol = {
	potential = {
		always = yes
	}
	option = {
		name = "first_contact_proactive"
		policy_flags = {
			first_contact_proactive
		}
		modifier = {
			first_contact_speed_mult = 0.1
		}
		on_enabled = {
		}
		valid = {
			is_homicidal = no
			is_xenophobe = no
			is_xenophobic_isolationists = no
		}
		AI_weight = {
			modifier = {
				factor = 2
				is_pacifist = yes
			}
			modifier = {
				factor = 2
				is_xenophile = yes
			}
			modifier = {
				factor = 2
				is_open_gestalt = yes
			}
			modifier = {
				factor = 2
				has_valid_civic = civic_machine_servitor
			}
			modifier = {
				factor = 2
				has_ai_personality = fanatic_befrienders
			}
		}
	}
	option = {
		name = "first_contact_cautious"
		policy_flags = {
			first_contact_cautious
		}
		modifier = {
			first_contact_defense_add = 2
		}
		on_enabled = {
		}
		valid = {
			is_homicidal = no
		}
		AI_weight = {
			modifier = {
				factor = 1.5
				always = yes				#Liu Cixin is right
			}
			modifier = {
				factor = 2
				is_xenophobic_isolationists = yes
			}
			modifier = {
				factor = 2
				is_gestalt = yes
				is_open_gestalt = no
				is_civic_militarist = no
				is_civic_materialist = no				# aggressively curious
				is_spy_empire = no
			}
		}
	}
	option = {
		name = "first_contact_attack_allowed"
		policy_flags = {
			first_contact_attack_allowed
		}
		modifier = {
		}
		valid = {
			is_pacifist = no
			is_xenophile = no
			is_open_gestalt = no
			NOR = {
				has_valid_civic = civic_machine_servitor
				has_valid_civic = civic_mutualistic_behavior
			}
		}
		AI_weight = {
			modifier = {
				factor = 2
				is_militarist = yes
			}
			modifier = {
				factor = 2
				is_xenophobe = yes
			}
			modifier = {
				factor = 2
				is_gestalt = yes
			}
			modifier = {
				factor = 0
				is_megacorp = yes
				is_criminal_syndicate = no
			}
			modifier = {
				factor = 2
				OR = {
					has_ai_personality = slaving_despots
					has_ai_personality = infested_hive_mind
					has_ai_personality = assimilators
					has_ai_personality = metalhead
					has_ai_personality = became_the_crisis
					has_ai_personality = vb_sneering_technocrats
				}
			}
			modifier = {
				factor = 0.5
				OR = {
					has_ai_personality = democratic_crusaders
					has_ai_personality = vb_keepers_of_peace
					has_ai_personality = honorbound_warriors
					has_ai_personality = technological_warriors
					has_ai_personality = fanatic_befrienders
					has_ai_personality = egalitarian_imperialists
					has_ai_personality = vb_ambitious_unifiers
				}
			}
		}
	}
}

border_policy = {
	potential = {
		always = yes
	}
	option = {
		name = "border_policy_open"
		policy_flags = {
			border_policy_open
		}
		valid = {
			merg_is_default_empire = yes
			NOR = {
				has_valid_civic = civic_machine_terminator
				has_valid_civic = civic_hive_devouring_swarm
				has_valid_civic = civic_fanatic_purifiers
				is_civic_inwards_perfection = yes
			}
		}
	}
	option = {
		name = "border_policy_closed"
		policy_flags = {
			border_policy_closed
		}
		modifier = {
		}
		valid = {
			always = yes
		}
		AI_weight = {
			factor = 10
			modifier = {
				factor = 0
				is_megacorp = yes
			}
			modifier = {
				factor = 0
				has_valid_ai_personality = yes
				NOR = {
					has_ai_personality_behaviour = isolationist
					has_ai_personality_behaviour = attack_neutrals
				}
			}
			modifier = {
				factor = 0
				has_valid_ai_personality = no
				is_xenophobe = no
			}
			modifier = {
				factor = 10
				has_crisis_level = crisis_level_5
			}
		}
	}
}

food_policy = {
	potential = {
		always = no
	}
	option = {
		name = "food_policy_rationing"
		modifier = {
			planet_pops_organics_food_upkeep_mult = -0.25
			planet_pops_organics_minerals_upkeep_mult = -0.25
			pop_growth_speed = -0.1
			biological_pop_happiness = -0.1
			lithoid_pop_happiness = -0.1
		}
		AI_weight = {
			factor = 0
		}
		valid = {
			NOR = {
				has_valid_civic = civic_land_of_plenty
			}
		}
	}
	option = {
		name = "food_policy_normal"
		modifier = {
		}
		AI_weight = {
			factor = 1
		}
	}
	option = {
		name = "food_policy_generous"
		modifier = {
			planet_pops_organics_food_upkeep_mult = 0.25
			planet_pops_organics_minerals_upkeep_mult = 0.25
			biological_pop_happiness = 0.05
			lithoid_pop_happiness = 0.05
			pop_growth_speed = 0.1
		}
		AI_weight = {
			factor = 0
		}
	}
}

food_policy_gestalt = {
	potential = {
		always = no
	}
	option = {
		name = "food_policy_gestalt_rationing"
		modifier = {
			planet_pops_organics_food_upkeep_mult = -0.25
			pop_growth_speed = -0.15
		}
		AI_weight = {
			factor = 0
		}
	}
	option = {
		name = "food_policy_gestalt_normal"
		modifier = {
		}
		AI_weight = {
			factor = 1
		}
	}
	option = {
		name = "food_policy_gestalt_generous"
		modifier = {
			planet_pops_organics_food_upkeep_mult = 0.5
			pop_growth_speed = 0.33
		}
		AI_weight = {
			factor = 0
		}
	}
}

economic_policy = {
	potential = {
		NOT = {
			has_ethic = ethic_gestalt_consciousness
		}
	}
	option = {
		name = "economic_policy_civilian"
		policy_flags = {
			economic_policy_civilian
		}
		valid = {
			NOR = {
				has_valid_civic = "civic_military_junta"
			}
		}
		modifier = {
			country_consumer_goods_produces_mult = 0.15
			country_alloys_produces_mult = -0.25
			pop_ethic_pacifist_attraction_mult = 0.2
		}
		AI_weight = {
			weight = 0
			modifier = {
				weight = 15
				is_at_war = no
				OR = {
					has_monthly_income = {
						resource = consumer_goods
						value < 25
					}
					AND = {
						has_civic = civic_megastore
						has_monthly_income = {
							resource = alloys
							value > 100
						}
					}
				}
				OR = {
					resource_stockpile_compare = {
						resource = consumer_goods
						value < 5000
					}
					AND = {
						has_civic = civic_megastore
						resource_stockpile_compare = {
							resource = consumer_goods
							value < 10000
						}
					}
				}
			}
			modifier = {
				weight = 2
				is_at_war = no
				OR = {
					is_pacifist = yes
					has_ai_personality = open_hive_mind
					has_ai_personality = open_machine_intelligence
					has_monthly_income = {
						resource = alloys
						value > 20
					}
				}
			}
		}
	}
	option = {
		name = "economic_policy_balanced"
		policy_flags = {
			economic_policy_balanced
		}
		modifier = {
		}
		AI_weight = {
			factor = 1
			modifier = {
				factor = 10
				has_valid_ai_personality = yes
				is_ai = yes
				is_galactic_community_member = yes
				is_active_resolution = "resolution_rulesofwar_demobilization_initiative"
			}
		}
	}
	option = {
		name = "economic_policy_military"
		policy_flags = {
			economic_policy_military
		}
		in_breach_of = {
			{
				key = resolution_rulesofwar_demobilization_initiative
			}
		}
		valid = {
			NOR = {
				has_valid_civic = "civic_peaceful_republic"
			}
		}
		modifier = {
			country_consumer_goods_produces_mult = -0.25
			country_alloys_produces_mult = 0.15
			pop_ethic_militarist_attraction_mult = 0.2
		}
		AI_weight = {
			weight = 0
			modifier = {
				weight = 20
				OR = {
					is_at_war = yes
					is_authoritarian = yes
				}
				NOT = {
					has_civic = civic_megastore
				}				# other benefits from other policy options
				resource_stockpile_compare = {
					resource = consumer_goods
					value > 2500
				}
				resource_stockpile_compare = {
					resource = alloys
					value < 10000
				}
				has_monthly_income = {
					resource = alloys
					value < 100
				}
			}
			modifier = {
				weight = 20
				has_ascension_perk = ap_become_the_crisis
				has_monthly_income = {
					resource = consumer_goods
					value > 20
				}
			}
			modifier = {
				factor = 0.1
				has_valid_ai_personality = yes
				is_ai = yes
				is_galactic_community_member = yes
				is_active_resolution = "resolution_rulesofwar_demobilization_initiative"
			}
		}
	}
}

economic_stance = {
	potential = {
		NOT = {
			has_ethic = ethic_gestalt_consciousness
		}
	}
	#Free Market
	option = {
		name = "economic_stance_market"
		policy_flags = {
			economic_stance_market
		}
		modifier = {
			country_trade_fee = -0.1
			trade_value_mult = 0.2
			country_trade_attractiveness = 0.25
			local_trade_protection_add = -5
			country_base_influence_produces_add = -0.25
			pop_ethic_capitalism_attraction_mult = 0.2
		}
		valid = {
			is_country_type = default
			or = {
				has_policy_flag = trade_policy_default
				has_policy_flag = trade_conversion_trade_league
				has_policy_flag = trade_conversion_consumer_goods
			}
			or = {
				has_ethic = "ethic_capitalism"
				has_ethic = "ethic_fanatic_capitalism"
				has_technology = tech_free_market
			}
			NOR = {
				has_ethic = ethic_fanatic_socialism
				has_ethic = ethic_fanatic_green
				has_valid_civic = civic_welfare_state
				has_policy_flag = trade_conversion_unity
				has_ethic = ethic_fanatic_authoritarian
				any_owned_pop = {
					has_living_standard = {
						type = living_standard_good
					}
				}
			}
		}
		AI_weight = {
			weight = 1
			modifier = {
				factor = 5
				has_ethic = ethic_capitalism
			}
			modifier = {
				factor = 10
				has_ethic = ethic_fanatic_capitalism
			}
		}
	}
	#Default
	option = {
		name = "economic_stance_default"
		policy_flags = {
			economic_stance_default
		}
		modifier = {
		}
		valid = {
			is_country_type = default
		}
		AI_weight = {
			weight = 1
		}
	}
	#Regulated Trade
	option = {
		name = "economic_stance_mixed"
		policy_flags = {
			economic_stance_mixed
		}
		modifier = {
			country_base_influence_produces_mult = 0.15
			local_trade_protection_add = 10
			country_trade_fee = 0.25
		}
		valid = {
			is_country_type = default
			nor = {
				has_valid_civic = civic_beacon_of_liberty
				has_ethic = ethic_fanatic_egalitarian
			}
		}
		AI_weight = {
			weight = 1
			modifier = {
				factor = 5
				has_ethic = ethic_authoritarian
				nor = {
					has_ethic = ethic_socialism
					has_ethic = ethic_fanatic_socialism
					has_ethic = ethic_fanatic_capitalism
				}
			}
			modifier = {
				factor = 10
				has_ethic = ethic_fanatic_authoritarian
				nor = {
					has_ethic = ethic_socialism
					has_ethic = ethic_fanatic_socialism
				}
			}
		}
	}
	#Central Planned
	option = {
		name = "economic_stance_planned"
		policy_flags = {
			economic_stance_planned
		}
		modifier = {
			country_energy_produces_mult = 0.05
			country_minerals_produces_mult = 0.1
			country_food_produces_mult = 0.15
			trade_value_mult = -0.25
			pop_ethic_socialism_attraction_mult = 0.2
		}
		valid = {
			is_country_type = default
			or = {
				has_ethic = "ethic_socialism"
				has_ethic = "ethic_fanatic_socialism"
				has_technology = tech_planned_economy
			}
			NOR = {
				has_ethic = ethic_fanatic_capitalism
				has_valid_civic = civic_beacon_of_liberty
				has_policy_flag = trade_conversion_consumer_goods
				and = {
					has_ethic = ethic_fanatic_egalitarian
					nor = {
						has_ethic = ethic_socialism
						has_ethic = ethic_fanatic_socialism
					}
				}
			}
		}
		AI_weight = {
			weight = 1
			modifier = {
				factor = 5
				has_ethic = ethic_socialism
			}
			modifier = {
				factor = 10
				has_ethic = ethic_fanatic_socialism
			}
		}
	}
}

trade_policy = {
	potential = {
		NOT = {
			has_ethic = ethic_gestalt_consciousness
		}
	}
	option = {
		name = "trade_policy_default"
		potential = {
			NOR = {
				is_megacorp = yes
				has_valid_civic = civic_corporate_dominion
			}
		}
		policy_flags = {
			trade_policy_default
		}
		AI_weight = {
			factor = 1
		}
	}
	option = {
		name = "trade_policy_default_corp"
		potential = {
			OR = {
				is_megacorp = yes
				has_civic = civic_corporate_dominion
			}
		}
		policy_flags = {
			trade_policy_default_corp
		}
		AI_weight = {
			factor = 1
		}
	}
	option = {
		name = "trade_policy_consumer_goods"
		potential = {
			NOR = {
				is_megacorp = yes
				has_civic = civic_corporate_dominion
			}
			OR = {
				has_federation = no
				AND = {
					has_federation = yes
					federation = {
						NOT = {
							has_federation_perk = trade_federation_passive
						}
					}
				}
			}
			has_tradition = tr_mercantile_adaptive_economic_policies
		}
		policy_flags = {
			trade_conversion_consumer_goods
		}
		valid = {
			is_country_type = default
			NOR = {
				has_policy_flag = "economic_stance_planned"
			}
		}
		modifier = {
		}
		AI_weight = {
			weight = 0
			modifier = {
				weight = 20
				is_at_war = no
				resource_stockpile_compare = {
					resource = consumer_goods
					value < 500
				}
				has_monthly_income = {
					resource = energy
					value > 200
				}
			}
		}
	}
	option = {
		name = "trade_policy_consumer_goods_corp"
		potential = {
			OR = {
				is_megacorp = yes
				has_civic = civic_corporate_dominion
			}
			OR = {
				has_federation = no
				AND = {
					has_federation = yes
					federation = {
						NOT = {
							has_federation_perk = trade_federation_passive
						}
					}
				}
			}
			has_tradition = tr_mercantile_adaptive_economic_policies
		}
		policy_flags = {
			trade_conversion_consumer_goods_corp
		}
		modifier = {
		}
		AI_weight = {
			weight = 0
			modifier = {
				weight = 20
				is_at_war = no
				resource_stockpile_compare = {
					resource = consumer_goods
					value < 500
				}
				has_monthly_income = {
					resource = energy
					value > 200
				}
			}
		}
	}
	option = {
		name = "trade_policy_unity"
		potential = {
			NOR = {
				is_megacorp = yes
				has_civic = civic_corporate_dominion
			}
			OR = {
				has_federation = no
				AND = {
					has_federation = yes
					federation = {
						NOT = {
							has_federation_perk = trade_federation_passive
						}
					}
				}
			}
			has_tradition = tr_mercantile_adaptive_economic_policies
		}
		valid = {
			is_country_type = default
			NOR = {
				has_policy_flag = "economic_stance_market"
			}
		}
		policy_flags = {
			trade_conversion_unity
		}
		modifier = {
		}
		AI_weight = {
			weight = 0
			modifier = {
				weight = 15
				is_at_war = no
				has_monthly_income = {
					resource = energy
					value > 500
				}
			}
		}
	}
	option = {
		name = "trade_policy_trade_league"
		potential = {
			has_federation = yes
			federation = {
				has_federation_perk = trade_federation_passive
			}
		}
		policy_flags = {
			trade_conversion_trade_league
		}
		modifier = {
		}
		AI_weight = {
			factor = 2
			modifier = {
				factor = 5
				OR = {
					country_uses_food = no
					resource_stockpile_compare = {
						resource = food
						value > 500
					}
				}
				resource_stockpile_compare = {
					resource = minerals
					value > 500
				}
			}
		}
	}
	#Growth & Development
	option = {
		name = "trade_policy_growth_dev"
		policy_flags = {
			trade_conversion_growth_dev
		}
		valid = {
			is_country_type = default
			has_policy_flag = "economic_stance_planned"
		}
		AI_weight = {
			factor = 0
		}
	}
	#development
	option = {
		name = "trade_policy_development"
		policy_flags = {
			trade_conversion_development
		}
		valid = {
			is_country_type = default
			has_policy_flag = "economic_stance_planned"
		}
		modifier = {
			planet_building_build_speed_mult = 0.1
			starbase_shipyard_build_speed_mult = 0.1
			planet_colony_development_speed_mult = 0.1
		}
		AI_weight = {
			factor = 0
		}
	}
	#innovation
	option = {
		name = "trade_policy_innovation"
		policy_flags = {
			trade_conversion_innovation
		}
		valid = {
			is_country_type = default
			or = {
				has_technology = tech_innovations
			}
			NOR = {
				has_valid_civic = civic_ultimate_collective
			}
			NOR = {
				has_policy_flag = "economic_stance_market"
				has_policy_flag = "economic_stance_planned"
			}
		}
		modifier = {
		}
		AI_weight = {
			factor = 0
		}
	}
	#growth
	option = {
		name = "trade_policy_growth"
		policy_flags = {
			trade_conversion_growth
		}
		modifier = {
			planet_districts_farms_cost_mult = -0.33
			planet_district_farming_build_speed_mult = 1
		}
		valid = {
			is_country_type = default
			has_technology = tech_agri_consortium
			NOR = {
				has_policy_flag = "economic_stance_market"
				has_policy_flag = "economic_stance_planned"
			}
		}
		AI_weight = {
			factor = 0
		}
	}
	option = {
		name = "trade_policy_mining"
		policy_flags = {
			trade_conversion_mining
		}
		modifier = {
			planet_districts_mines_cost_mult = -0.33
			planet_district_mining_build_speed_mult = 1
		}
		valid = {
			is_country_type = default
			or = {
				has_technology = tech_mining_consortium
				has_valid_civic = civic_mining_guilds
			}
			NOR = {
				has_policy_flag = "economic_stance_market"
				has_policy_flag = "economic_stance_planned"
			}
		}
		AI_weight = {
			factor = 0
		}
	}
	option = {
		name = "trade_policy_mineral_corp"
		potential = {
			OR = {
				is_megacorp = yes
				has_civic = civic_corporate_dominion
			}
			OR = {
				has_federation = no
				AND = {
					has_federation = yes
					federation = {
						NOT = {
							has_federation_perk = trade_federation_passive
						}
					}
				}
			}
		}
		policy_flags = {
			trade_conversion_mineral_corp
		}
		modifier = {
		}
		AI_weight = {
			weight = 0
			modifier = {
				weight = 20
				is_at_war = no
				resource_stockpile_compare = {
					resource = minerals
					value < 500
				}
				has_monthly_income = {
					resource = energy
					value > 200
				}
			}
		}
	}
	option = {
		name = "trade_policy_food_corp"
		potential = {
			OR = {
				is_megacorp = yes
				has_civic = civic_corporate_dominion
			}
			OR = {
				has_federation = no
				AND = {
					has_federation = yes
					federation = {
						NOT = {
							has_federation_perk = trade_federation_passive
						}
					}
				}
			}
		}
		policy_flags = {
			trade_conversion_food_corp
		}
		modifier = {
		}
		AI_weight = {
			weight = 0
			modifier = {
				weight = 20
				is_at_war = no
				is_lithoid_empire = no
				resource_stockpile_compare = {
					resource = food
					value < 500
				}
				has_monthly_income = {
					resource = energy
					value > 200
				}
			}
		}
	}
	option = {
		name = "trade_policy_unity_corp"
		potential = {
			OR = {
				is_megacorp = yes
				has_civic = civic_corporate_dominion
			}
			OR = {
				has_federation = no
				AND = {
					has_federation = yes
					federation = {
						NOT = {
							has_federation_perk = trade_federation_passive
						}
					}
				}
			}
			has_tradition = tr_mercantile_adaptive_economic_policies
		}
		policy_flags = {
			trade_conversion_unity_corp
		}
		modifier = {
		}
		AI_weight = {
			weight = 0
			modifier = {
				weight = 15
				is_at_war = no
				has_monthly_income = {
					resource = energy
					value > 500
				}
			}
		}
	}
	option = {
		name = "trade_policy_trade_league_raw"
		potential = {
			has_federation = yes
			federation = {
				has_federation_perk = trade_federation_passive
			}
		}
		policy_flags = {
			trade_conversion_trade_league_raw
		}
		modifier = {
		}
		AI_weight = {
			factor = 5
		}
	}
}

drone_policy = {
	potential = {
		has_ethic = ethic_gestalt_consciousness
	}
	option = {
		name = "drone_policy_balanced"
		modifier = {
		}
		AI_weight = {
			factor = 1
		}
	}
	option = {
		name = "drone_policy_worker"
		modifier = {
			planet_jobs_simple_drone_produces_mult = 0.2
			planet_jobs_complex_drone_produces_mult = -0.2
		}
		AI_weight = {
			factor = 0
		}
	}
	option = {
		name = "drone_policy_thinker"
		modifier = {
			planet_jobs_simple_drone_produces_mult = -0.2
			planet_jobs_complex_drone_produces_mult = 0.2
		}
		AI_weight = {
			factor = 0
		}
	}
}

artificial_intelligence_policy = {
	potential = {
		NOT = {
			has_ethic = ethic_gestalt_consciousness
		}
		OR = {
			can_set_ai_policy = yes
			has_country_flag = synthetic_empire
		}
	}
	option = {
		name = "ai_outlawed"
		valid = {
			NOR = {
				is_materialist = yes
				custom_tooltip = {
					success_text = is_a_synthetic_empire
					has_country_flag = synthetic_empire
				}
				has_valid_civic = civic_machine_cult
			}
		}
		policy_flags = {
			ai_outlawed
		}
		in_breach_of = {
			{
				key = resolution_galacticstudies_advanced_xenostudies
			}
		}
		AI_weight = {
			modifier = {
				factor = 0
				is_materialist = yes
			}
			modifier = {
				factor = 5
				is_spiritualist = yes
			}
			modifier = {
				factor = 0.1
				has_valid_ai_personality = yes
				is_ai = yes
				is_galactic_community_member = yes
				OR = {
					is_active_resolution = "resolution_galacticstudies_advanced_xenostudies"
					is_active_resolution = "resolution_galacticstudies_ethical_guideline_refactoring"
					is_active_resolution = "resolution_galacticstudies_extradimensional_experimentation"
				}
			}
		}
	}
	option = {
		name = "ai_servitude"
		in_breach_of = {
			{
				key = resolution_galacticstudies_advanced_xenostudies
			}
		}
		valid = {
			NOT = {
				has_valid_civic = civic_machine_cult
			}
			custom_tooltip = {
				fail_text = is_a_synthetic_empire_fail
				NOT = {
					has_country_flag = synthetic_empire
				}
			}
		}
		policy_flags = {
			ai_servitude
		}
		AI_weight = {
			modifier = {
				factor = 5
				has_valid_ai_personality = yes
				has_ai_personality_behaviour = robot_exploiter
			}
			modifier = {
				factor = 2
				has_valid_ai_personality = yes
				has_ai_personality_behaviour = robot_liberator
			}
			modifier = {
				factor = 0
				is_spiritualist = yes
				NOT = {
					has_valid_civic = civic_machine_cult
				}
			}
			modifier = {
				factor = 0
				is_spiritualist = yes
				NOT = {
					has_valid_ai_personality = yes
					is_ai = yes
					is_galactic_community_member = yes
					OR = {
						is_active_resolution = "resolution_galacticstudies_advanced_xenostudies"
						is_active_resolution = "resolution_galacticstudies_ethical_guideline_refactoring"
						is_active_resolution = "resolution_galacticstudies_extradimensional_experimentation"
					}
				}
			}
		}
	}
	option = {
		name = "ai_full_rights"
		valid = {
			OR = {
				custom_tooltip = {
					fail_text = is_a_synthetic_empire
					has_country_flag = synthetic_empire
				}
				is_spiritualist = no
				has_valid_civic = civic_machine_cult
			}
			NOT = {
				has_policy_flag = robots_outlawed
			}
			NOT = {
				has_ascension_perk = ap_synthetic_servants
			}
		}
		policy_flags = {
			ai_full_rights
		}
		modifier = {
		}
		AI_weight = {
			modifier = {
				factor = 0.5
				is_materialist = no
				NOR = {
					is_synthetic_empire = yes
					has_technology = tech_synthetic_workers
				}
			}
			modifier = {
				factor = 5
				has_valid_ai_personality = yes
				has_ai_personality_behaviour = robot_liberator
			}
			modifier = {
				factor = 0
				is_spiritualist = yes
			}
		}
	}
}

robot_pop_policy = {
	potential = {
		OR = {
			is_gestalt = no
			has_technology = tech_robotic_workers
			any_owned_species = {
				has_trait = trait_mechanical
			}
		}
	}
	option = {
		name = "robot_pops_outlawed"
		valid = {
			NOR = {
				is_materialist = yes
				has_valid_civic = civic_machine_cult
				has_policy_flag = ai_full_rights
			}
		}
		policy_flags = {
			robots_outlawed
		}
		on_enabled = {
			hidden_effect = {
				every_owned_species = {
					limit = {
						is_robotic_species = yes
					}
					set_citizenship_type = {
						type = citizenship_purge
						country = root
					}
				}
			}
		}
		AI_weight = {
			factor = 1
			modifier = {
				factor = 0
				is_materialist = yes
			}
			modifier = {
				factor = 10
				has_valid_ai_personality = yes
				NOR = {
					has_ai_personality_behaviour = robot_exploiter
					has_ai_personality_behaviour = robot_liberator
				}
			}
		}
	}
	option = {
		name = "robot_pops_allowed"
		policy_flags = {
			robots_allowed
		}
		AI_weight = {
			factor = 2
		}
	}
}

pre_sapients = {
	potential = {
		OR = {
			has_country_flag = found_presapients
			any_planet_within_border = {
				any_owned_pop = {
					is_sapient = no
				}
			}
		}
	}
	option = {
		name = "pre_sapients_protect"
		potential = {
			NOR = {
				has_valid_civic = civic_machine_terminator
				has_valid_civic = civic_hive_devouring_swarm
				has_valid_civic = civic_fanatic_purifiers
			}
		}
		on_enabled = {
			hidden_effect = {
				set_country_flag = found_presapients
			}
		}
		policy_flags = {
			pre_sapients_protect
		}
		AI_weight = {
			factor = 2
			modifier = {
				factor = 0
				NOT = {
					has_ai_personality_behaviour = multispecies
				}
			}
		}
	}
	option = {
		name = "pre_sapients_allow"
		potential = {
			NOR = {
				has_valid_civic = civic_machine_terminator
				has_valid_civic = civic_hive_devouring_swarm
				has_valid_civic = civic_fanatic_purifiers
			}
		}
		on_enabled = {
			hidden_effect = {
				set_country_flag = found_presapients
			}
		}
		policy_flags = {
			pre_sapients_allow
		}
		AI_weight = {
			factor = 1
		}
	}
	option = {
		name = "pre_sapients_eat"
		potential = {
			host_has_dlc = "Utopia"
			is_synthetic_empire = no
			NOT = {
				has_valid_civic = civic_fanatic_purifiers
			}
		}
		on_enabled = {
			hidden_effect = {
				set_country_flag = found_presapients
			}
		}
		valid = {
			NOR = {
				has_ethic = "ethic_xenophile"
				has_ethic = "ethic_fanatic_xenophile"
			}
		}
		policy_flags = {
			pre_sapients_eat
		}
		modifier = {
		}
		AI_weight = {
			factor = 10
			modifier = {
				factor = 0
				NOT = {
					has_authority = auth_hive_mind
				}
			}
		}
	}
	option = {
		name = "pre_sapients_purge"
		valid = {
			NOR = {
				has_ethic = "ethic_xenophile"
				has_ethic = "ethic_fanatic_xenophile"
			}
		}
		on_enabled = {
			hidden_effect = {
				set_country_flag = found_presapients
			}
		}
		policy_flags = {
			pre_sapients_purge
		}
		modifier = {
		}
		AI_weight = {
			factor = 5
			modifier = {
				factor = 0
				is_country_type = default
				NOR = {
					has_ethic = "ethic_xenophobe"
					has_ethic = "ethic_fanatic_xenophobe"
					AND = {
						has_authority = auth_machine_intelligence
						NOR = {
							has_valid_civic = civic_machine_servitor
							has_valid_civic = civic_machine_assimilator
						}
					}
				}
			}
		}
	}
}

refugees = {
	potential = {
		has_encountered_other_species = yes
		is_country_type = default
		OR = {
			NOT = {
				has_ethic = "ethic_gestalt_consciousness"
			}
			has_valid_civic = civic_machine_servitor
		}
	}
	option = {
		name = "refugees_not_allowed"
		valid = {
			NOR = {
				has_ethic = "ethic_xenophile"
				has_ethic = "ethic_fanatic_xenophile"
			}
		}
		policy_flags = {
			refugees_not_allowed
		}
	}
	option = {
		name = "refugees_only_citizens"
		potential = {
			NOT = {
				has_ethic = "ethic_gestalt_consciousness"
			}
		}
		policy_flags = {
			refugees_only_citizens
		}
		valid = {
			NOT = {
				has_authority = auth_hive_mind
			}
		}
		AI_weight = {
			factor = 5
		}
	}
	option = {
		name = "refugees_allowed"
		policy_flags = {
			refugees_allowed
		}
		valid = {
			NOR = {
				has_ethic = "ethic_xenophobe"
				has_ethic = "ethic_fanatic_xenophobe"
			}
		}
		AI_weight = {
			factor = 10
			modifier = {
				factor = 0
				NOR = {
					has_ethic = ethic_xenophile
					has_ethic = ethic_fanatic_xenophile
					has_valid_civic = civic_machine_servitor
					AND = {
						has_valid_ai_personality = yes
						NOT = {
							has_ai_personality_behaviour = multispecies
						}
					}
				}
			}
		}
	}
}

healthcare = {
	potential = {
		NOT = {
			has_ethic = ethic_gestalt_consciousness
		}
		is_robot_empire = no
	}
	option = {
		name = "mixed_healthcare"
		valid = {
			NOR = {
				has_valid_civic = civic_shared_burden
			}
		}
		policy_flags = {
			mixed_healthcare
			healthcare_public_private
		}
		modifier = {
		}
		AI_weight = {
			factor = 1
			modifier = {
				factor = 2
				is_pacifist = yes
			}
			modifier = {
				factor = 2
				has_valid_civic = civic_worker_coop
			}
			modifier = {
				factor = 2
				is_spiritualist = yes
				is_xenophobe = yes
			}
		}
	}
	option = {
		name = "private_healthcare"
		valid = {
			NOR = {
				has_ethic = "ethic_fanatic_socialism"
				has_valid_civic = civic_welfare_state
				has_valid_civic = civic_shared_burden
			}
		}
		modifier = {
			leader_age = 10
			pop_cat_worker_happiness = -0.1
			pop_ethic_capitalism_attraction_mult = 0.05
			pop_growth_speed = -0.05
			#pop_cat_ruler_happiness = 0
			pop_cat_specialist_happiness = -0.03
			pop_cat_worker_happiness = -0.05
			pop_cat_slave_happiness = -0.05
			trade_value_mult = 0.1
		}
		policy_flags = {
			private_healthcare
			healthcare_for_profit
		}
		AI_weight = {
			factor = 1
			modifier = {
				factor = 10
				OR = {
					has_ethic = "ethic_fanatic_capitalism"
				}
			}
			modifier = {
				factor = 0
				is_spiritualist = yes
				is_xenophobe = no
			}
			modifier = {
				factor = 2
				is_authoritarian = yes
			}
			modifier = {
				factor = 2
				is_auth_corporate = yes
				NOT = {
					has_valid_civic = civic_worker_coop
				}
			}
			modifier = {
				factor = 0.5
				is_auth_corporate = no
				is_authoritarian = no
				is_materialist = yes
			}
		}
	}
	option = {
		name = "public_healthcare"
		valid = {
			NOR = {
				has_ethic = "ethic_fanatic_capitalism"
				has_valid_civic = civic_beacon_of_liberty
			}
		}
		policy_flags = {
			public_healthcare
			healthcare_universal
		}
		modifier = {
			pop_growth_speed = 0.1
			trade_value_mult = -0.1
			army_health = 0.15
			pop_ethic_socialism_attraction_mult = 0.05
			planet_districts_cities_upkeep_mult = 0.1
		}
		AI_weight = {
			factor = 1
			modifier = {
				factor = 10
				has_ethic = "ethic_fanatic_socialism"
			}
			modifier = {
				factor = 0.1
				OR = {
					is_authoritarian = yes
					has_ethic = ethic_fanatic_xenophobe
					AND = {
						is_auth_corporate = yes
						NOT = {
							has_valid_civic = civic_worker_coop
						}
					}
				}
			}
			modifier = {
				factor = 0.5
				has_ethic = ethic_xenophobe
			}
			modifier = {
				factor = 2
				is_spiritualist = yes
			}
			modifier = {
				factor = 2
				is_egalitarian = yes
			}
			modifier = {
				factor = 2
				is_xenophile = yes
			}
		}
	}
	option = {
		name = "charitable_healthcare"
		valid = {
			NOR = {
				has_valid_civic = civic_shared_burden
			}
			is_spiritualist = yes
		}
		modifier = {
			pop_growth_speed = -0.03
			#pop_cat_ruler_happiness = 0
			#pop_cat_specialist_happiness = 0
			pop_cat_worker_happiness = -0.03
			pop_cat_slave_happiness = -0.03
			pop_ethic_spiritualist_attraction_mult = 0.25
		}
		policy_flags = {
			charitable_healthcare
		}
		AI_weight = {
			factor = 3
			modifier = {
				factor = 2
				has_ethic = ethic_fanatic_spiritualist
			}
			modifier = {
				factor = 2
				has_ai_personality = evangelising_zealots
			}
			modifier = {
				factor = 0.5
				is_xenophile = yes
			}
			modifier = {
				factor = 0
				is_egalitarian = yes
			}
		}
	}
}

education = {
	potential = {
		NOT = {
			has_ethic = ethic_gestalt_consciousness
		}
	}
	option = {
		name = "mixed_education"
		valid = {
		}
		policy_flags = {
			mixed_education
		}
		modifier = {
		}
	}
	option = {
		name = "private_education"
		valid = {
			NOR = {
				has_ethic = "ethic_fanatic_socialism"
				has_valid_civic = civic_welfare_state
			}
		}
		policy_flags = {
			private_education
		}
		modifier = {
			leader_skill_levels = 1
			planet_jobs_specialist_produces_mult = 0.05
			planet_crime_mult = 0.15
			pop_ethic_capitalism_attraction_mult = 0.05
		}
		AI_weight = {
			modifier = {
				factor = 10
				has_ethic = "ethic_fanatic_capitalism"
			}
		}
	}
	option = {
		name = "public_education"
		valid = {
			NOR = {
				has_ethic = "ethic_fanatic_capitalism"
				has_valid_civic = civic_beacon_of_liberty
			}
		}
		policy_flags = {
			public_education
		}
		modifier = {
			pop_government_ethic_attraction = 0.15
			country_unity_produces_mult = 0.05
			planet_crime_mult = -0.15
			planet_districts_cities_upkeep_mult = 0.1
			pop_ethic_socialism_attraction_mult = 0.05
		}
		AI_weight = {
			modifier = {
				factor = 10
				has_ethic = "ethic_fanatic_socialism"
			}
		}
	}
}

transportation_logistics = {
	potential = {
		always = yes
	}
	option = {
		name = "none_transport"
		policy_flags = {
			none_transport
		}
		modifier = {
		}
		AI_weight = {
			factor = 1
		}
	}
	option = {
		name = "civilian_transport"
		policy_flags = {
			civilian_transport
		}
		valid = {
			NOR = {
				has_ethic = ethic_fanatic_militarist
			}
			is_country_type = default
		}
		modifier = {
			trade_value_mult = 0.05
			pop_growth_from_immigration = 0.25
			planet_colony_development_speed_mult = 0.25
			planet_resettlement_unemployed_mult = 0.15
			local_trade_protection_add = -5
			pop_ethic_pacifist_attraction_mult = 0.25
		}
		AI_weight = {
		}
	}
	option = {
		name = "military_transport"
		policy_flags = {
			military_transport
		}
		valid = {
			NOR = {
				has_ethic = ethic_fanatic_pacifist
				has_valid_civic = civic_corporate_dominion
			}
			is_country_type = default
		}
		modifier = {
			armies_upkeep_mult = -0.05
			ships_upkeep_mult = -0.05
			local_trade_protection_add = 5
			ship_piracy_suppression_add = 5
			pop_growth_from_immigration = -0.15
			trade_value_mult = -0.15
			pop_ethic_militarist_attraction_mult = 0.25
		}
		AI_weight = {
		}
	}
}

interstellar_telecom = {
	potential = {
	}
	option = {
		name = "none_telecom"
		policy_flags = {
			none_telecom
		}
		modifier = {
		}
		AI_weight = {
			factor = 1
		}
	}
	option = {
		name = "civilian_telecom"
		policy_flags = {
			civilian_telecom
		}
		valid = {
			NOR = {
				has_ethic = ethic_fanatic_militarist
			}
			is_country_type = default
		}
		modifier = {
			country_admin_cap_mult = 0.15
			station_researchers_produces_mult = 0.15
			science_ship_survey_speed = 0.33
			country_naval_cap_mult = -0.33
			pop_ethic_pacifist_attraction_mult = 0.25
		}
		AI_weight = {
		}
	}
	option = {
		name = "military_telecom"
		policy_flags = {
			military_telecom
		}
		valid = {
			NOR = {
				has_ethic = ethic_fanatic_pacifist
				has_valid_civic = civic_exploration
			}
			is_country_type = default
		}
		modifier = {
			country_naval_cap_mult = 0.33
			country_starbase_capacity_add = 3
			station_researchers_produces_mult = -0.15
			pop_ethic_militarist_attraction_mult = 0.25
		}
		AI_weight = {
		}
	}
}

bureaucracy = {
	potential = {
	}
	option = {
		name = "none_bureaucracy"
		policy_flags = {
			none_bureaucracy
		}
		modifier = {
		}
	}
	option = {
		name = "centralized_state"
		valid = {
			is_country_type = default
			has_technology = tech_centralized_state
			NOR = {
				has_valid_civic = civic_beacon_of_liberty
				has_ethic = "ethic_fanatic_egalitarian"
			}
		}
		policy_flags = {
			centralized_state
		}
		modifier = {
			country_base_influence_produces_add = 0.5
			ruler_skill_levels = 1
			empire_size_penalty_mult = 0.25
			pop_ethic_egalitarian_attraction_mult = -0.2
		}
		AI_weight = {
			modifier = {
				factor = 10
				has_ethic = "ethic_fanatic_authoritarian"
			}
		}
	}
	option = {
		name = "federal_state"
		policy_flags = {
			federal_state
		}
		valid = {
			is_country_type = default
			has_technology = tech_federal_state
			NOR = {
				has_ethic = "ethic_fanatic_authoritarian"
				has_valid_civic = civic_ultimate_collective
			}
		}
		modifier = {
			EMPIRE_SIZE_SYSTEMS_MULT = -0.33
			governor_skill_levels = 1
			edicts_cost_mult = 0.25
			pop_ethic_authoritarian_attraction_mult = -0.2
		}
		AI_weight = {
			modifier = {
				factor = 10
				has_ethic = "ethic_fanatic_egalitarian"
			}
		}
	}
}

population_controls = {
	potential = {
		NOT = {
			has_ethic = "ethic_gestalt_consciousness"
		}
	}
	option = {
		name = "population_controls_not_allowed"
		on_enabled = {
			hidden_effect = {
				every_owned_planet = {
					remove_modifier = planet_population_control
				}
			}
		}
		policy_flags = {
			population_controls_not_allowed
		}
	}
	option = {
		name = "population_controls_allowed"
		on_enabled = {
			hidden_effect = {
				every_owned_planet = {
					remove_modifier = planet_growth_discouraged
				}
			}
		}
		valid = {
			NOR = {
				has_valid_civic = civic_anarchy_ideals
				has_valid_civic = civic_spiritual_democracy
			}
		}
		policy_flags = {
			population_controls_allowed
		}
		modifier = {
		}
		AI_weight = {
			factor = 10
			modifier = {
				factor = 0
				OR = {
					has_ethic = ethic_egalitarian
					has_ethic = ethic_fanatic_egalitarian
					has_ethic = ethic_xenophile
					has_ethic = ethic_fanatic_xenophile
				}
			}
		}
	}
}

slavery = {
	potential = {
		NOT = {
			has_ethic = "ethic_gestalt_consciousness"
		}
	}
	option = {
		name = "slavery_not_allowed"
		valid = {
			NOR = {
				is_civic_slaver_guilds = yes
				has_valid_civic = civic_state_monopoly
				has_valid_civic = civic_divine_order
				has_valid_civic = civic_indentured_assets
			}
		}
		policy_flags = {
			slavery_not_allowed
		}
		on_enabled = {
			hidden_effect = {
				every_owned_planet = {
					remove_modifier = slave_colony
				}
			}
		}
		modifier = {
			slave_market_cost_mult = 1
		}
		AI_weight = {
			factor = 1
			modifier = {
				factor = 0
				has_valid_ai_personality = yes
				has_ai_personality_behaviour = slaver
			}
			modifier = {
				factor = 0
				is_ai = no
				is_egalitarian = no
				is_pacifist = no
				is_xenophile = no
				OR = {
					is_authoritarian = yes
					is_xenophobe = yes
				}
			}
		}
	}
	option = {
		name = "slavery_allowed"
		valid = {
			custom_tooltip = {
				fail_text = "requires_not_signatory"
				NOR = {
					is_subject_type = signatory
					is_subject_type = scion_signatory
					is_subject_type = scion_auxiliary
				}
			}
			OR = {
				has_ethic = ethic_authoritarian
				has_ethic = ethic_fanatic_authoritarian
				has_ethic = ethic_xenophobe
				has_ethic = ethic_fanatic_xenophobe
				has_ethic = ethic_fanatic_capitalism
				has_valid_civic = civic_slaver_guilds
				has_valid_civic = civic_indentured_assets
			}
			NOR = {
				has_ai_personality = harmonious_hierarchy
				has_valid_civic = "civic_harm_hive"
				has_valid_civic = "civic_harm_machine"
			}
		}
		policy_flags = {
			slavery_allowed
		}
		modifier = {
		}
		AI_weight = {
			factor = 10
			modifier = {
				factor = 0
				has_valid_ai_personality = yes
				NOT = {
					has_ai_personality_behaviour = slaver
				}
			}
			modifier = {
				factor = 0
				has_valid_ai_personality = no
				NOR = {
					is_authoritarian = yes
					is_xenophobe = yes
				}
			}
			# special case for harmonious collectives
			modifier = {
				factor = 0
				has_valid_ai_personality = no
				is_ai = yes
				NOR = {
					is_xenophobe = yes
					is_militarist = yes
				}
				OR = {
					is_pacifist = yes
					is_xenophile = yes
					is_authoritarian = yes
				}
				NOR = {
					is_civic_slaver_guilds = yes
					has_trait = "trait_decadent"
				}
			}
		}
	}
}

purge = {
	option = {
		name = "purge_not_allowed"
		valid = {
			NOT = {
				has_ethic = ethic_gestalt_consciousness
			}
			NOT = {
				has_valid_civic = "civic_fanatic_purifiers"
			}
		}
		policy_flags = {
			purge_not_allowed
		}
	}
	option = {
		name = "purge_displacement_only"
		policy_flags = {
			purge_displacement_only
		}
		modifier = {
		}
		valid = {
			NOR = {
				has_ethic = ethic_xenophile
				has_ethic = ethic_fanatic_xenophile
			}
			is_homicidal = no
		}
		AI_weight = {
			factor = 5
			modifier = {
				factor = 0
				NOT = {
					has_ethic = ethic_gestalt_consciousness
				}
				has_valid_ai_personality = yes
				has_ai_personality_behaviour = multispecies
			}
		}
	}
	option = {
		name = "purge_allowed"
		in_breach_of = {
			{
				key = resolution_rulesofwar_reverence_for_life
			}
		}
		policy_flags = {
			purge_allowed
		}
		modifier = {
		}
		valid = {
			custom_tooltip = {
				fail_text = "requires_not_signatory"
				NOR = {
					is_subject_type = signatory
					is_subject_type = scion_signatory
					is_subject_type = scion_auxiliary
				}
			}
			OR = {
				has_ethic = ethic_gestalt_consciousness
				has_ethic = ethic_xenophobe
				has_ethic = ethic_fanatic_xenophobe
				has_menace_perk = menp_undertaker				# Unlocked with Crisis Level 1
			}
			NOR = {
				has_ai_personality = harmonious_hierarchy
				has_valid_civic = "civic_harm_hive"
				has_valid_civic = "civic_harm_machine"
			}
		}
		AI_weight = {
			factor = 10
			modifier = {
				factor = 40
				has_ethic = ethic_gestalt_consciousness
				NOT = {
					has_valid_civic = civic_hive_empath
				}
				NAND = {
					has_valid_ai_personality = yes
					has_ai_personality_behaviour = multispecies
				}
			}
			modifier = {
				factor = 0
				OR = {
					has_ethic = ethic_pacifist
					has_ethic = ethic_fanatic_pacifist
				}
			}
			modifier = {
				factor = 0
				has_valid_ai_personality = yes
				NOR = {
					has_ai_personality_behaviour = purger
					AND = {
						has_ethic = ethic_gestalt_consciousness
						NAND = {
							has_valid_ai_personality = yes
							has_ai_personality_behaviour = multispecies
						}
					}
				}
			}
			modifier = {
				factor = 0.1
				has_valid_ai_personality = yes
				is_ai = yes
				is_galactic_community_member = yes
				OR = {
					is_active_resolution = "resolution_rulesofwar_reverence_for_life"
					is_active_resolution = "resolution_rulesofwar_independent_tribunals"
					is_active_resolution = "resolution_rulesofwar_last_resort_doctrine"
					is_active_resolution = "resolution_rulesofwar_demobilization_initiative"
				}
			}
			modifier = {
				factor = 100
				has_ascension_perk = ap_become_the_crisis
			}
		}
	}
}

media_rights = {
	potential = {
		is_gestalt = no
		OR = {
			is_country_type = default
			is_country_type = fallen_empire
			is_country_type = awakened_fallen_empire
			is_country_type = ascended_empire
			is_country_type = lost_empire
		}
	}
	option = {
		name = "state_media"
		valid = {
			NOR = {
				is_egalitarian = yes
				has_authority = auth_democratic
				is_megacorp = yes
			}
		}
		policy_flags = {
			state_media
		}
		modifier = {
			planet_stability_add = 5
			pop_cat_specialist_happiness = -0.05
			pop_cat_worker_happiness = -0.05
			pop_government_ethic_attraction = 0.25
		}
		AI_weight = {
			factor = 5
			modifier = {
				factor = 0
				NOT = {
					has_ethic = ethic_fanatic_authoritarian
				}
				OR = {
					has_ethic = ethic_xenophile
					has_ethic = ethic_fanatic_xenophile
					has_ethic = ethic_pacifist
					has_ethic = ethic_fanatic_pacifist
				}
			}
		}
	}
	option = {
		name = "corporate_media"
		valid = {
			is_megacorp = yes
		}
		policy_flags = {
			corporate_media
		}
		modifier = {
			planet_stability_add = 2
			pop_cat_specialist_happiness = -0.02
			pop_cat_worker_happiness = -0.02
			trade_value_mult = 0.1
			pop_government_ethic_attraction = 0.25
		}
		AI_weight = {
			factor = 5
			modifier = {
				factor = 0
				NOT = {
					has_ethic = ethic_fanatic_authoritarian
				}
				NOT = {
					has_civic = civic_media_conglomerate
				}
				OR = {
					is_xenophile = yes
					is_pacifist = yes
				}
			}
		}
	}
	option = {
		name = "censored_media"
		valid = {
			NOR = {
				has_ethic = ethic_fanatic_authoritarian
				has_ethic = ethic_fanatic_egalitarian
				has_civic = civic_media_conglomerate
			}
		}
		policy_flags = {
			censored_media
		}
		modifier = {
			planet_stability_add = 2
			pop_cat_specialist_happiness = -0.02
			pop_cat_worker_happiness = -0.02
			pop_government_ethic_attraction = 0.1
		}
		AI_weight = {
			factor = 5
			modifier = {
				factor = 0.1
				is_xenophobe = no
				OR = {
					is_egalitarian = yes
					has_authority = auth_democratic
				}
			}
			modifier = {
				factor = 0.1
				is_megacorp = yes
			}
		}
	}
	option = {
		name = "free_press"
		valid = {
			NOR = {
				is_authoritarian = yes
				has_authority = auth_imperial
				has_authority = auth_dictatorial
				has_civic = civic_media_conglomerate
			}
		}
		policy_flags = {
			free_press
		}
		modifier = {
			pop_happiness = 0.05
			country_unity_produces_mult = 0.1
			pop_government_ethic_attraction = -0.2
		}
		AI_weight = {
			factor = 6
			modifier = {
				factor = 0
				has_valid_civic = civic_police_state
			}
			modifier = {
				factor = 0.5
				is_xenophobe = yes
			}
			modifier = {
				factor = 0.5
				NOR = {
					is_egalitarian = yes
					has_authority = auth_democratic
				}
			}
		}
	}
}

union_rights = {
	potential = {
		NOT = {
			has_ethic = "ethic_gestalt_consciousness"
		}
	}
	option = {
		name = "worker_union_rights"
		valid = {
			has_ethic = ethic_fanatic_egalitarian
		}
		modifier = {
			pop_ethic_egalitarian_attraction_mult = 0.5
			pop_cat_ruler_happiness = -0.1
			pop_cat_specialist_happiness = 0.05
			pop_cat_worker_happiness = 0.05
			pop_cat_specialist_political_power = 0.5
			pop_cat_worker_political_power = 0.5
			diplo_weight_pops_mult = 0.1
			empire_size_pops_mult = -0.1
			country_unity_produces_mult = 0.1
		}
		policy_flags = {
			worker_union_rights
		}
		AI_weight = {
			modifier = {
				factor = 20
				OR = {
					has_valid_civic = civic_shared_burden
					has_valid_civic = civic_worker_coop
				}
			}
			modifier = {
				factor = 0
				NOR = {
					has_valid_civic = civic_shared_burden
					has_valid_civic = civic_worker_coop
				}
			}
		}
	}
	option = {
		name = "full_union_rights"
		valid = {
			NOR = {
				is_authoritarian = yes
				has_authority = auth_private
				has_authority = auth_dictatorial
				has_authority = auth_imperial
				has_valid_civic = civic_aristocratic_elite
				has_valid_civic = civic_royal_trading_company
				has_valid_civic = civic_barbaric_despoilers
				has_valid_civic = civic_feudal_realm
				has_valid_civic = civic_police_state
				has_valid_civic = civic_corp_security
			}
		}
		modifier = {
			pop_ethic_egalitarian_attraction_mult = 0.25
			pop_cat_ruler_happiness = -0.05
			pop_cat_specialist_political_power = 0.25
			pop_cat_worker_political_power = 0.25
			diplo_weight_pops_mult = 0.1
			empire_size_pops_mult = -0.1
		}
		policy_flags = {
			full_union_rights
		}
		AI_weight = {
			modifier = {
				factor = 2
				has_ethic = ethic_egalitarian
			}
			modifier = {
				factor = 5
				has_ethic = ethic_fanatic_egalitarian
			}
			modifier = {
				factor = 2
				OR = {
					has_authority = auth_democratic
					has_authority = auth_cooperative
				}
			}
			modifier = {
				factor = 3
				is_xenophile = yes
			}
		}
	}
	option = {
		name = "normal_union_rights"
		valid = {
			NOR = {
				has_valid_civic = civic_aristocratic_elite
				has_valid_civic = civic_royal_trading_company
				has_valid_civic = civic_barbaric_despoilers
				has_valid_civic = civic_feudal_realm
				has_valid_civic = civic_police_state
				has_valid_civic = civic_corp_security
				is_civic_slaver_guilds = yes
				has_origin = origin_ancient_dynasty
			}
			custom_tooltip = {
				fail_text = requires_not_shared_burdens
				NOR = {
					has_valid_civic = civic_shared_burden
					has_valid_civic = civic_worker_coop
				}
			}
		}
		modifier = {
			pop_cat_ruler_happiness = -0.02
			pop_cat_specialist_political_power = 0.1
			pop_cat_worker_political_power = 0.1
			diplo_weight_pops_mult = 0.05
			empire_size_pops_mult = -0.05
		}
		policy_flags = {
			normal_union_rights
		}
		AI_weight = {
			modifier = {
				factor = 0
				is_authoritarian = yes
			}
			modifier = {
				factor = 0
				has_authority = auth_corporate
				is_egalitarian = no
			}
			modifier = {
				factor = 0
				OR = {
					has_authority = auth_private
					has_authority = auth_dictatorial
					has_authority = auth_imperial
				}
			}
			modifier = {
				factor = 4
				is_egalitarian = no
				OR = {
					has_authority = auth_democratic
					has_authority = auth_cooperative
				}
			}
			modifier = {
				factor = 2
				is_egalitarian = yes
				OR = {
					has_authority = auth_democratic
					has_authority = auth_cooperative
				}
			}
			modifier = {
				factor = 2
				is_xenophile = yes
			}
			modifier = {
				factor = 2
				has_authority = auth_oligarchic
				is_authoritarian = no
			}
		}
	}
	option = {
		name = "limited_union_rights"
		valid = {
			OR = {
				is_egalitarian = no
				is_megacorp = yes
			}
		}
		policy_flags = {
			limited_union_rights
		}
		AI_weight = {
			modifier = {
				factor = 0
				has_authority = auth_corporate
				is_egalitarian = no
				is_xenophile = no
				is_pacifist = no
			}
			modifier = {
				factor = 0
				has_authority = auth_private
			}
			modifier = {
				factor = 0.5
				OR = {
					has_authority = auth_dictatorial
					has_authority = auth_imperial
				}
			}
			modifier = {
				factor = 3
				is_authoritarian = no
				NOR = {
					has_valid_civic = civic_aristocratic_elite
					has_valid_civic = civic_barbaric_despoilers
					has_valid_civic = civic_feudal_realm
				}
			}
			modifier = {
				factor = 0
				OR = {
					has_authority = auth_democratic
					has_authority = auth_cooperative
				}
			}
			modifier = {
				factor = 2
				is_xenophobe = yes
			}
		}
	}
	option = {
		name = "no_union_rights"
		valid = {
			OR = {
				is_authoritarian = yes
				has_authority = auth_corporate
				has_authority = auth_private
				has_valid_civic = civic_aristocratic_elite
				has_valid_civic = civic_barbaric_despoilers
				has_valid_civic = civic_feudal_realm
				has_valid_civic = civic_police_state
			}
		}
		modifier = {
			pop_ethic_authoritarian_attraction_mult = 0.25
			planet_jobs_worker_produces_mult = 0.05
			pop_cat_ruler_happiness = 0.05
			pop_cat_worker_happiness = -0.1
			pop_cat_ruler_political_power = 1
			pop_cat_worker_political_power = -0.1
			empire_size_pops_mult = 0.1
		}
		policy_flags = {
			no_union_rights
		}
		AI_weight = {
			factor = 2
			modifier = {
				factor = 2
				has_ethic = ethic_authoritarian
			}
			modifier = {
				factor = 5
				has_ethic = ethic_fanatic_authoritarian
			}
			modifier = {
				factor = 2
				is_xenophobe = yes
			}
			modifier = {
				factor = 0.1
				has_valid_ai_personality = yes
				is_ai = yes
				is_galactic_community_member = yes
				OR = {
					is_active_resolution = "resolution_greatergood_workers_rights"
					is_active_resolution = "resolution_greatergood_five_year_plans"
					is_active_resolution = "resolution_greatergood_greater_than_ourselves"
					is_active_resolution = "resolution_greatergood_balance_in_the_middle"
					is_active_resolution = "resolution_greatergood_universal_prosperity_mandate"
				}
			}
		}
	}
}

drone_unemployed = {
	potential = {
		has_authority = auth_hive_mind
	}
	allow = {
		is_at_war = no		# Not allowed to change policies in this group while at war
	}
	option = {
		name = "unemployed_drone_minerals"
		policy_flags = {
			unemployed_drone_minerals
		}
		valid = {
			always = yes
		}
	}
	option = {
		name = "unemployed_drone_food"
		policy_flags = {
			unemployed_drone_food
		}
		valid = {
			is_lithoid_empire = no
		}
	}
	option = {
		name = "unemployed_drone_amenities"
		policy_flags = {
			unemployed_drone_amenities
		}
		valid = {
			always = yes
		}
	}
	option = {
		name = "unemployed_drone_research"
		policy_flags = {
			unemployed_drone_research
		}
		valid = {
			has_valid_civic = civic_hive_natural_neural_network
		}
	}
}

hive_healthcare = {
	potential = {
		has_authority = auth_hive_mind
	}
	option = {
		name = "no_healthcare"
		modifier = {
			pop_growth_speed = -0.05
			planet_pop_assembly_organic_add = -0.05
			pop_amenities_usage_mult = -0.1
			planet_doctors_upkeep_mult = -0.25
		}
		policy_flags = {
			no_healthcare
		}
		AI_weight = {
			factor = 1
			modifier = {
				factor = 0
				has_valid_ai_personality = yes
				has_ai_personality = open_hive_mind
			}
			modifier = {
				factor = 5
				has_valid_civic = civic_hive_devouring_swarm
			}
			modifier = {
				factor = 5
				NOT = {
					any_owned_planet = {
						free_housing > 1
					}
				}
			}
		}
	}
	option = {
		name = "basic_healthcare"
		modifier = {
			planet_doctors_upkeep_mult = -0.125
		}
		policy_flags = {
			basic_healthcare
		}
		AI_weight = {
			factor = 2
		}
	}
	option = {
		name = "extensive_healthcare"
		modifier = {
			pop_growth_speed = 0.05
			planet_pop_assembly_organic_add = 0.05
			pop_amenities_usage_mult = 0.1
		}
		policy_flags = {
			extensive_healthcare
		}
		AI_weight = {
			factor = 1
			modifier = {
				factor = 3
				has_valid_ai_personality = yes
				has_ai_personality = open_hive_mind
			}
			modifier = {
				factor = 0.1
				OR = {
					has_civic = civic_infestation
					has_civic = civic_living_hosts
				}
			}
		}
	}
}

matrix_usage = {
	potential = {
		is_robot_empire = yes
		NOR = {
			has_policy_flag = purge_not_allowed
			has_policy_flag = purge_displacement_only
			has_valid_civic = civic_machine_servitor
			has_valid_civic = civic_harm_machine
			is_subject_type = scion_auxiliary
		}
	}
	option = {
		name = "matrix_energy"
		policy_flags = {
			matrix_energy
		}
		AI_weight = {
			factor = 4
			modifier = {
				factor = 0
				has_monthly_income = {
					resource = energy
					value > 50
				}
				OR = {
					is_materialist = yes
					has_government = gov_machine_research
				}
			}
		}
	}
	option = {
		name = "matrix_research"
		policy_flags = {
			matrix_research
		}
		AI_weight = {
			factor = 1
		}
	}
}

vassal_expansion = {
	potential = {
		is_overlord = yes
	}
	option = {
		name = "vassal_expansion_not_allowed"
		valid = {
			NOR = {
				has_valid_civic = civic_feudal_realm
				is_megacorp = yes
			}
		}
		policy_flags = {
			vassal_expansion_not_allowed
		}
		modifier = {
		}
		AI_weight = {
			factor = 5
			modifier = {
				factor = 0.1
				has_valid_ai_personality = yes
				OR = {
					has_ai_personality_behaviour = liberator
					has_ai_personality_behaviour = multispecies
				}
			}
			modifier = {
				factor = 0
				is_xenophile = yes
				is_authoritarian = no
			}
			modifier = {
				factor = 0
				is_egalitarian = yes
				is_xenophobe = no
			}
		}
	}
	option = {
		name = "vassal_expansion_allowed"
		policy_flags = {
			vassal_expansion_allowed
		}
		modifier = {
		}
		AI_weight = {
			factor = 1
			modifier = {
				factor = 0
				has_valid_ai_personality = yes
				OR = {
					has_ai_personality_behaviour = dominator
					has_ai_personality_behaviour = subjugator
					has_ai_personality_behaviour = slaver
				}
				is_egalitarian = no
				is_xenophile = no
			}
			modifier = {
				factor = 0
				OR = {
					is_authoritarian = yes
					is_xenophobe = yes
				}
			}
		}
	}
}
